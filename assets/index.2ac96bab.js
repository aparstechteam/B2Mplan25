import{o as r,c as l,a as t,t as h,n as m,_ as $,b as o,d as _,i as p,k as a,D as k,w,F as P,s as D,B as T}from"./entry.354af20b.js";import x from"./Icon.e90aa457.js";import{_ as j}from"./nuxt-link.2fb211db.js";import{a as g,c as B}from"./formatData.470432c1.js";import"./index.b8fe2cb5.js";const z={class:"text-center rounded-md p-1 m-[2px] bg-white/90 backdrop-blur-md leading-tight"},M={class:"text-lg font-semibold"},N={__name:"TimeBlock",props:["duration","type"],setup(e){const s={days:"bg-red-500",hours:"bg-yellow-500",minutes:"bg-green-500",seconds:"bg-blue-500"};return(n,c)=>(r(),l("div",{class:m(["overflow-hidden border rounded-md",s[e.type]])},[t("div",z,[t("p",M,h(e.duration),1),t("p",null,h(e.type),1)])],2))}},O={name:"timer",props:{end:{required:!0}},data(){return{days:0,hours:0,minute:0,second:0}},methods:{showRemaining(){let e=new Date(this.end).getTime();const s=setInterval(()=>{const n=e-Date.now();if(n<0){clearInterval(s);return}const c=Math.floor(n/this._days),i=Math.floor(n%this._days/this._hours),u=Math.floor(n%this._hours/this._minutes),d=Math.floor(n%this._minutes/this._seconds);this.second=d<10?"0"+d:d,this.minute=u<10?"0"+u:u,this.hours=i<10?"0"+i:i,this.days=c<10?"0"+c:c})}},computed:{_seconds:()=>1e3,_minutes(){return this._seconds*60},_hours(){return this._minutes*60},_days(){return this._hours*24}},mounted(){this.showRemaining()}},C={class:"grid grid-cols-4 gap-2"};function I(e,s,n,c,i,u){const d=N;return r(),l("div",C,[o(d,{duration:i.days,type:"days"},null,8,["duration"]),o(d,{duration:i.hours,type:"hours"},null,8,["duration"]),o(d,{duration:i.minute,type:"minutes"},null,8,["duration"]),o(d,{duration:i.second,type:"seconds"},null,8,["duration"])])}const L=$(O,[["render",I]]),V={class:"text-xl font-semibold"},q={class:"text-lg font-medium"},R={class:"grid max-w-md grid-cols-2 gap-2 mx-auto my-2"},S=["href"],A=["href"],f={__name:"PlanBlock",props:{p:{type:Object,required:!0}},setup(e){return(s,n)=>{const c=x;return r(),l("div",{class:m(["p-3 space-y-4 text-center bg-white",`${e.p.isPast?"text-gray-500":"text-gray-900"}`])},[t("h2",V,h(e.p.subject),1),t("h3",q,h(e.p.chapter),1),t("div",R,[e.p.link25live?(r(),l("a",{key:0,href:e.p.link25live,target:"_blank",class:m(["flex items-center justify-center gap-2 px-3 py-2 font-semibold text-white transition duration-200 bg-red-500 border rounded-md hover:scale-105",`${e.p.isPast?"!bg-gray-200 !text-gray-500":""}`])},[o(c,{name:"lucide:radio",size:"22",class:m(`${e.p.isPast?"text-gray-500":"text-white"}`)},null,8,["class"]),_(" Live Class ")],10,S)):p("",!0),e.p.link25?(r(),l("a",{key:1,href:e.p.link25,target:"_blank",class:m(["flex items-center justify-center gap-2 px-3 py-2 font-semibold text-white transition-all duration-200 bg-green-500 border rounded-md hover:scale-105",`${e.p.isPast?"!bg-gray-200 !text-gray-500":""}`])},[o(c,{name:"lucide:archive",size:"22",class:m(`${e.p.isPast?"text-gray-500":"text-white"}`)},null,8,["class"]),_(" Archive Class ")],10,A)):p("",!0)])],2)}}},E={class:"space-y-3"},F={class:""},G={class:"flex items-center gap-2 text-xl font-medium"},H={class:"overflow-hidden border rounded-md"},J={__name:"Plan",props:{plan:{type:Object,required:!0}},setup(e){return(s,n)=>{const c=x,i=f;return r(),l("div",E,[t("div",F,[t("h2",G,[o(c,{size:"22",name:`${e.plan.isOngoing?"lucide:timer":e.plan.isPast?"lucide:calendar-check-2":"lucide:calendar-clock"}`,class:m(`${e.plan.isPast?"text-gray-500":e.plan.isOngoing?"text-bm":"text-green-500"}`)},null,8,["name","class"]),t("span",{class:m(`${e.plan.isPast?"text-gray-500":"text-gray-900"}`)},h(("formatDateTime"in s?s.formatDateTime:a(g))(e.plan.start)),3)])]),t("div",{class:m(["pl-6 ml-2 border-s-2",`${e.plan.isPast?"border-gray-400":"border-green-500"} ${e.plan.isOngoing?"!border-bm":""}`])},[t("div",H,[o(i,{p:e.plan},null,8,["p"])])],2)])}}},K={key:0},Q={key:0,class:"max-w-3xl p-4 mx-auto my-5 space-y-5 border-2 rounded-md"},U={class:"max-w-md mx-auto space-y-5"},W={class:"text-center"},X=t("h2",{class:"text-2xl font-semibold text-red-500 animate-pulse"}," Ongoing... ",-1),Y={class:"max-w-md mx-auto my-5"},Z={class:"p-3 my-5 border rounded-lg"},ee=t("p",null," Start Time ",-1),te={class:"flex items-center justify-center gap-2 text-lg font-medium"},se=t("hr",{class:"my-2"},null,-1),ne=t("p",null," End Time ",-1),oe={class:"flex items-center justify-center gap-2 text-lg font-medium"},ae={class:"max-w-3xl mx-auto space-y-7",id:"plans"},ie={class:"flex justify-between"},ce={class:"text-2xl font-semibold text-center underline decoration-wavy underline-offset-8"},re={key:1,class:"flex flex-col items-center justify-center min-h-[80vh]"},le=t("h2",{class:"mt-3 text-2xl font-semibold text-center text-gray-400"}," Loading... ",-1),pe={__name:"index",setup(e){const{$planStore:s}=T();return k(()=>{s.getRoutine()}),(n,c)=>{const i=L,u=x,d=f,b=j,v=J;return a(s).routine.length>0?(r(),l("div",K,[t("div",null,[a(s).upcomingPlan?(r(),l("div",Q,[t("div",U,[t("div",W,[X,t("div",Y,[o(i,{end:a(s).upcomingPlan.end},null,8,["end"])]),t("div",Z,[ee,t("h2",te,[o(u,{name:"lucide:calendar-clock",size:"22",class:"text-red-500"}),_(" "+h(("formatDateTime"in n?n.formatDateTime:a(g))(a(s).upcomingPlan.start)),1)]),se,ne,t("h2",oe,[o(u,{name:"lucide:calendar-check-2",size:"22",class:"text-green-500"}),_(" "+h(("formatDateTime"in n?n.formatDateTime:a(g))(a(s).upcomingPlan.end)),1)])])])]),o(d,{p:a(s).upcomingPlan},null,8,["p"])])):p("",!0)]),t("div",ae,[t("div",ie,[t("h2",ce,h(("calculateDays"in n?n.calculateDays:a(B))(a(s).routine[0].start,a(s).routine[a(s).routine.length-1].end))+" Days Timeline ",1),o(b,{to:"/plan/routine",class:"flex items-center justify-center gap-2 px-3 py-2 font-semibold text-white bg-gray-800 border rounded-md"},{default:w(()=>[o(u,{name:"lucide:cog",size:"22",class:"text-white"}),_(" Modify ")]),_:1})]),(r(!0),l(P,null,D(a(s).routine,y=>(r(),l("div",{key:y._id,class:"space-y-5"},[o(v,{plan:y},null,8,["plan"])]))),128))])])):(r(),l("div",re,[o(u,{name:"lucide:loader",size:"64",class:"text-gray-400 animate-spin"}),le]))}}};export{pe as default};
