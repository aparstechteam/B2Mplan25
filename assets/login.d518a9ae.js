import{I as k,D as f,g as w,o as d,c,x as F,J as I,k as t,a as u,G as b,t as S,i as T,r as _,K as D,b as v,n as h,B}from"./entry.04113676.js";const C=["id","placeholder","type","maxlength"],R={key:0,class:"text-red-500 text-[14px] font-semibold"},$={__name:"TextInput",props:["input","placeholder","inputType","max","autoFocus","error"],emits:["update:input"],setup(y,{emit:i}){const l=i,s=y,{input:a,placeholder:p,inputType:x,max:m,autoFocus:g,error:o}=k(s);f(()=>{g.value&&document.getElementById(`input-${p.value}`).focus()});const e=w({get:()=>a.value,set:r=>l("update:input",r)});return(r,n)=>(d(),c("div",null,[F(u("input",{id:`input-${t(p)}`,placeholder:t(p),class:"block w-full bg-[#F1F1F2] text-gray-800 border border-gray-300 rounded-md py-2.5 px-3 focus:outline-none",type:t(x),"onUpdate:modelValue":n[0]||(n[0]=N=>b(e)?e.value=N:null),autocomplete:"off",maxlength:t(m)},null,8,C),[[I,t(e)]]),t(o)?(d(),c("span",R,S(t(o)),1)):T("",!0)]))}},U={class:"max-w-md py-6 m-3 mx-auto bg-white border rounded-md"},V={key:0},L=u("div",{class:"text-center text-[28px] mb-4 font-bold"},"Login",-1),E={class:"px-6 pb-2"},J={class:"px-6 pb-2 mt-6"},M=["disabled"],z={key:1},A=u("div",{class:"text-center text-[28px] mb-4 font-bold"},"Sign up",-1),G={class:"px-6 pb-2"},K={class:"px-6 pb-2"},O={class:"px-6 pb-2 mt-6"},P=["disabled"],q={__name:"login",setup(y){const{$userStore:i}=B();let l=_(null),s=_(null),a=_(null);const p=D(),x=async()=>{try{let o=s.value.slice(-11);i.login(o,p)}catch(o){console.log(o)}},m=async()=>{try{let o=s.value.slice(-11);i.register(l.value,o,a.value,p)}catch(o){console.log(o)}},g=()=>{let o=localStorage.getItem("s23_25ssrb");if(o){let e=JSON.parse(o);l.value=e.name,s.value="0"+e.phone,a.value=e.college,m(),localStorage.removeItem("s23_25ssrb")}};return f(()=>{i.isNotRegistered=!0,g()}),(o,e)=>{const r=$;return d(),c("div",U,[t(i).isNotRegistered?(d(),c("div",V,[L,u("div",E,[v(r,{placeholder:"Phone Number",input:t(s),"onUpdate:input":e[0]||(e[0]=n=>b(s)?s.value=n:s=n),inputType:"tel"},null,8,["input"])]),u("div",J,[u("button",{disabled:!t(s),class:h([t(s)?"bg-bm":"bg-gray-200","w-full text-[17px] font-semibold text-white bg-bm py-3 rounded-sm"]),onClick:e[1]||(e[1]=n=>x())}," Login ",10,M)])])):(d(),c("div",z,[A,u("div",G,[v(r,{placeholder:"Full name",input:t(l),"onUpdate:input":e[2]||(e[2]=n=>b(l)?l.value=n:l=n),inputType:"text",autoFocus:!0},null,8,["input"])]),u("div",K,[v(r,{placeholder:"Institute",input:t(a),"onUpdate:input":e[3]||(e[3]=n=>b(a)?a.value=n:a=n),inputType:"text"},null,8,["input"])]),u("div",O,[u("button",{disabled:!t(l)||!t(s)||!t(a),class:h([!t(l)||!t(s)||!t(a)?"bg-gray-200":"bg-bm","w-full text-[17px] font-semibold text-white bg-bm py-3 rounded-sm"]),onClick:e[4]||(e[4]=n=>m())}," Sign up ",10,P)])]))])}}};export{q as default};
